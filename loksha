[]
Error parsing JSON: keyNotFound(CodingKeys(stringValue: "results", intValue: nil), Swift.DecodingError.Context(codingPath: [], debugDescription: "No value associated with key CodingKeys(stringValue: \"results\", intValue: nil) (\"results\").", underlyingError: nil))
Error parsing JSON: keyNotFound(CodingKeys(stringValue: "results", intValue: nil), Swift.DecodingError.Context(codingPath: [], debugDescription: "No value associated with key CodingKeys(stringValue: \"results\", intValue: nil) (\"results\").", underlyingError: nil))
Error parsing JSON: keyNotFound(CodingKeys(stringValue: "results", intValue: nil), Swift.DecodingError.Context(codingPath: [], debugDescription: "No value associated with key CodingKeys(stringValue: \"results\", intValue: nil) (\"results\").", underlyingError: nil))
Error parsing JSON: keyNotFound(CodingKeys(stringValue: "results", intValue: nil), Swift.DecodingError.Context(codingPath: [], debugDescription: "No value associated with key CodingKeys(stringValue: \"results\", intValue: nil) (\"results\").", underlyingError: nil))


//
//  ViewController.swift
//  flashCardApp
//
//  Created by karim hamed ashour on 10/7/24.
//

import UIKit

class ViewController: UIViewController,UITableViewDelegate,UITableViewDataSource,UISearchBarDelegate{
    
    
    
    
    @IBOutlet weak var tableView: UITableView!
    @IBOutlet weak var searchBar: UINavigationItem!
    let viewModel = FetchViewModel()
    var flashCards:[Content]!
    var quizes=[Quizes]()
    var currentQuiz=[Quiz(question: "???", correct_answer: "???")]
    var filteredTopics:[String]=[]
    var score=0
    var searching=false
    
   //
//  FetchViewModel.swift
//  flashCardApp
//
//  Created by karim hamed ashour on 10/10/24.
//

import UIKit

class FetchViewModel: NSObject {
    var quizes = [Quizes]()
    var i = 0
    var links=["https://opentdb.com/api.php?amount=10&category=21","https://opentdb.com/api.php?amount=10&category=27","https://opentdb.com/api.php?amount=10&category=23","https://opentdb.com/api.php?amount=10&category=25","https://opentdb.com/api.php?amount=10&category=19","https://opentdb.com/api.php?amount=10&category=11"]
    func fetchQuiz() -> [Quizes] {
        // Define the URL for the GitHub API
        for link in links{
            let token = 
            let url = URL(string: link)!
            
            // Define the headers for the request
            var request = URLRequest(url: url, cachePolicy: .useProtocolCachePolicy)
            request.httpMethod = "GET"
            request.setValue("Bearer \(token)", forHTTPHeaderField: "Authorization")
            
            // Make the request
            let task = URLSession.shared.dataTask(with: request) { data, response, error in
                if let error = error {
                    print("Error making request: \(error)")
                    return
                }
                
                guard let data = data else {
                    print("No data returned")
                    return
                }
                
                
                
                // Parse the JSON data
                do {
                    let quiz = try JSONDecoder().decode(Quizes.self, from: data)
                    self.quizes.append(quiz)
                    
                } catch {
                    print("Error parsing JSON: \(error)")
                }
            }
            
            // Handle the response
            task.resume()
        }
        print("\(quizes)")
        return quizes
    }
}

    
//
//  Quiz.swift
//  flashCardApp
//
//  Created by karim hamed ashour on 10/7/24.
//

import UIKit
struct Quizes:Codable{
    var results:[Quiz]
}
struct Quiz:Codable {
var question:String
var correct_answer:String
}


